{"ast":null,"code":"import _classCallCheck from\"/Users/alexwan/Documents/GitHub/final-frontend-BochengWan123/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alexwan/Documents/GitHub/final-frontend-BochengWan123/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/alexwan/Documents/GitHub/final-frontend-BochengWan123/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/alexwan/Documents/GitHub/final-frontend-BochengWan123/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/alexwan/Documents/GitHub/final-frontend-BochengWan123/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from'react-redux';import'bootstrap/dist/css/bootstrap.min.css';import{userlogin as _userlogin}from\"../../actions\";import{Redirect}from\"react-router-dom\";var baseurl=new URL(\"https://ricezonefinalbocheng.herokuapp.com/\");var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.errorMessage='';_this.state={redirect:false,userId:\"\",usergroup:_this.props.usergroup};return _this;}_createClass(Login,[{key:\"handleSubmit\",value:function handleSubmit(e){var _this2=this;e.preventDefault();this.errorMessage='';this.user=document.getElementById(\"Lname_field\").value;this.pw=document.getElementById(\"Lpassword\").value;var temp=this.props.usergroup;var input={\"username\":this.user,\"password\":Number(this.pw)};console.log(input);var option={headers:{\"content-type\":\"application/json\"},body:JSON.stringify(input),method:\"POST\",credentials:\"include\"};if(this.user!==''&&this.pw!==''){fetch(baseurl+'login',option).then(function(res){return res.json();}).then(function(res){if(res.result==='success'){_this2.props.userlogin(_this2.user,_this2.pw);_this2.setState({redirect:true});}else{_this2.errorMessage='Password is wrong or not an existing user!';_this2.setState({errorMessage:_this2.errorMessage});}});}else{this.errorMessage='Account name or password cannot be blank!';this.setState({errorMessage:this.errorMessage});}return this.errorMessage;}},{key:\"render\",value:function render(){if(this.state.redirect){return/*#__PURE__*/React.createElement(Redirect,{to:\"/Main\"});}return/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-6 col-md-6 col-sm-6 col-xs-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header text-left\"},\"Login\"),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},!(this.errorMessage==='')?/*#__PURE__*/React.createElement(\"div\",{className:\"row alert-danger\"},this.errorMessage):'',/*#__PURE__*/React.createElement(\"form\",{method:\"GET\",action:\"index.html\",onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left\",htmlFor:\"Lname_field\"},\"Account Name:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"Lname_field\",placeholder:\"Enter account name\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left\",htmlFor:\"Lpassword\"},\"Password:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"Lpassword\",placeholder:\"Enter password\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",type:\"submit\"},\"Login\")))))));}}]);return Login;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{usergroup:state.usergroup};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{userlogin:function userlogin(userId,password){return dispatch(_userlogin(userId,password));}};};export default connect(mapStateToProps,mapDispatchToProps)(Login);","map":{"version":3,"sources":["/Users/alexwan/Documents/GitHub/final-frontend-BochengWan123/frontend/src/Component/Landing/Login.js"],"names":["React","connect","userlogin","Redirect","baseurl","URL","Login","props","handleSubmit","bind","errorMessage","state","redirect","userId","usergroup","e","preventDefault","user","document","getElementById","value","pw","temp","input","Number","console","log","option","headers","body","JSON","stringify","method","credentials","fetch","then","res","json","result","setState","Component","mapStateToProps","mapDispatchToProps","dispatch","password"],"mappings":"46BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAO,sCAAP,CACA,OAAQC,SAAS,GAATA,CAAAA,UAAR,KAAwB,eAAxB,CACA,OAAQC,QAAR,KAAuB,kBAAvB,CACA,GAAMC,CAAAA,OAAO,CAAG,GAAIC,CAAAA,GAAJ,CAAQ,6CAAR,CAAhB,C,GAEMC,CAAAA,K,0GACF,eAAYC,KAAZ,CAAmB,uCACf,uBAAMA,KAAN,EACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,YAAL,CAAoB,EAApB,CACA,MAAKC,KAAL,CAAa,CACTC,QAAQ,CAAC,KADA,CAETC,MAAM,CAAC,EAFE,CAGTC,SAAS,CAAC,MAAKP,KAAL,CAAWO,SAHZ,CAAb,CAJe,aASlB,C,oEACYC,C,CAAE,iBACXA,CAAC,CAACC,cAAF,GAEA,KAAKN,YAAL,CAAoB,EAApB,CACA,KAAKO,IAAL,CAAYC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KAAnD,CACA,KAAKC,EAAL,CAAUH,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAA/C,CACA,GAAIE,CAAAA,IAAI,CAAG,KAAKf,KAAL,CAAWO,SAAtB,CACA,GAAIS,CAAAA,KAAK,CAAG,CAAC,WAAW,KAAKN,IAAjB,CAAsB,WAAWO,MAAM,CAAC,KAAKH,EAAN,CAAvC,CAAZ,CACAI,OAAO,CAACC,GAAR,CAAYH,KAAZ,EACA,GAAII,CAAAA,MAAM,CAAG,CACTC,OAAO,CAAC,CAAC,eAAe,kBAAhB,CADC,CAETC,IAAI,CAACC,IAAI,CAACC,SAAL,CAAeR,KAAf,CAFI,CAGTS,MAAM,CAAC,MAHE,CAITC,WAAW,CAAC,SAJH,CAAb,CAUA,GAAG,KAAKhB,IAAL,GAAY,EAAZ,EAAkB,KAAKI,EAAL,GAAU,EAA/B,CAAkC,CAC9Ba,KAAK,CAAC9B,OAAO,CAAC,OAAT,CAAkBuB,MAAlB,CAAL,CAA+BQ,IAA/B,CAAoC,SAAAC,GAAG,QACvCA,CAAAA,GAAG,CAACC,IAAJ,EADuC,EAAvC,EACYF,IADZ,CACiB,SAAAC,GAAG,CAAI,CACpB,GAAGA,GAAG,CAACE,MAAJ,GAAe,SAAlB,CAA4B,CACxB,MAAI,CAAC/B,KAAL,CAAWL,SAAX,CAAqB,MAAI,CAACe,IAA1B,CAAgC,MAAI,CAACI,EAArC,EACA,MAAI,CAACkB,QAAL,CAAc,CAAC3B,QAAQ,CAAE,IAAX,CAAd,EAEH,CAJD,IAIM,CAEF,MAAI,CAACF,YAAL,CAAoB,4CAApB,CACA,MAAI,CAAC6B,QAAL,CAAc,CAAC7B,YAAY,CAAC,MAAI,CAACA,YAAnB,CAAd,EACH,CACI,CAXT,EAaC,CAdL,IAcW,CACH,KAAKA,YAAL,CAAoB,2CAApB,CACA,KAAK6B,QAAL,CAAc,CAAC7B,YAAY,CAAC,KAAKA,YAAnB,CAAd,EACH,CAEL,MAAO,MAAKA,YAAZ,CAEH,C,uCACO,CACJ,GAAG,KAAKC,KAAL,CAAWC,QAAd,CAAuB,CACnB,mBACI,oBAAC,QAAD,EAAU,EAAE,CAAC,OAAb,EADJ,CAEH,CACD,mBACI,2BAAK,SAAS,CAAG,qCAAjB,eAEI,2BAAK,SAAS,CAAC,MAAf,eACI,2BAAK,SAAS,CAAC,uBAAf,UADJ,cAEI,2BAAK,SAAS,CAAC,WAAf,EACK,EAAE,KAAKF,YAAL,GAAqB,EAAvB,eAA4B,2BAAK,SAAS,CAAE,kBAAhB,EAAoC,KAAKA,YAAzC,CAA5B,CAAyF,EAD9F,cAEI,4BAAM,MAAM,CAAC,KAAb,CAAmB,MAAM,CAAC,YAA1B,CAAuC,QAAQ,CAAI,KAAKF,YAAxD,eACA,2BAAK,SAAS,CAAC,UAAf,eACI,2BAAK,SAAS,CAAC,qBAAf,eACI,6BAAO,SAAS,CAAC,WAAjB,CAA6B,OAAO,CAAC,aAArC,kBADJ,cAEI,6BAAQ,IAAI,CAAC,MAAb,CAAoB,EAAE,CAAC,aAAvB,CAAqC,WAAW,CAAE,oBAAlD,EAFJ,CADJ,cAKI,2BAAK,SAAS,CAAC,qBAAf,eACI,6BAAO,SAAS,CAAC,WAAjB,CAA6B,OAAO,CAAC,WAArC,cADJ,cAEI,6BAAQ,IAAI,CAAC,UAAb,CAAwB,EAAE,CAAC,WAA3B,CAAuC,WAAW,CAAE,gBAApD,EAFJ,CALJ,CADA,cAYI,2BAAK,SAAS,CAAC,iBAAf,eAEI,2BAAK,SAAS,CAAC,sBAAf,eACI,8BAAQ,SAAS,CAAC,iBAAlB,CAAoC,IAAI,CAAG,QAA3C,UADJ,CAFJ,CAZJ,CAFJ,CAFJ,CAFJ,CADJ,CAiCH,C,mBA1FeR,KAAK,CAACwC,S,EA6F1B,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAC9B,KAAD,CAAW,CAE/B,MAAO,CACHG,SAAS,CAACH,KAAK,CAACG,SADb,CAAP,CAGH,CALD,CAOA,GAAM4B,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAc,CACrC,MAAO,CACHzC,SAAS,CAAE,mBAACW,MAAD,CAAQ+B,QAAR,QAAqBD,CAAAA,QAAQ,CAACzC,UAAS,CAACW,MAAD,CAAQ+B,QAAR,CAAV,CAA7B,EADR,CAAP,CAIH,CALD,CAQA,cAAe3C,CAAAA,OAAO,CAACwC,eAAD,CAAiBC,kBAAjB,CAAP,CAA4CpC,KAA5C,CAAf","sourcesContent":["import React from \"react\";\nimport { connect } from 'react-redux';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {userlogin} from \"../../actions\";\nimport {Redirect} from \"react-router-dom\";\nconst baseurl = new URL(\"https://ricezonefinalbocheng.herokuapp.com/\");\n\nclass Login extends React.Component{\n    constructor(props) {\n        super(props);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.errorMessage = '';\n        this.state = {\n            redirect:false,\n            userId:\"\",\n            usergroup:this.props.usergroup\n        }\n    }\n    handleSubmit(e){\n        e.preventDefault();\n\n        this.errorMessage = '';\n        this.user = document.getElementById(\"Lname_field\").value;\n        this.pw = document.getElementById(\"Lpassword\").value\n        let temp = this.props.usergroup\n        let input = {\"username\":this.user,\"password\":Number(this.pw)};\n        console.log(input)\n        let option = {\n            headers:{\"content-type\":\"application/json\"},\n            body:JSON.stringify(input),\n            method:\"POST\",\n            credentials:\"include\",\n\n        };\n\n\n\n        if(this.user!=='' && this.pw!==''){\n            fetch(baseurl+'login', option).then(res =>\n            res.json()).then(res => {\n                if(res.result === 'success'){\n                    this.props.userlogin(this.user, this.pw);\n                    this.setState({redirect: true});\n\n                } else{\n\n                    this.errorMessage = 'Password is wrong or not an existing user!';\n                    this.setState({errorMessage:this.errorMessage})\n                }\n                    })\n\n            } else {\n                this.errorMessage = 'Account name or password cannot be blank!';\n                this.setState({errorMessage:this.errorMessage})\n            }\n\n        return this.errorMessage\n\n    }\n    render(){\n        if(this.state.redirect){\n            return(\n                <Redirect to='/Main' />)\n        }\n        return(\n            <div className = \"col-lg-6 col-md-6 col-sm-6 col-xs-6\">\n\n                <div className='card' >\n                    <div className='card-header text-left'>Login</div>\n                    <div className='card-body'>\n                        {!(this.errorMessage=== '')? <div className= 'row alert-danger'>{this.errorMessage}</div>:''}\n                        <form method=\"GET\" action=\"index.html\" onSubmit = {this.handleSubmit}>\n                        <div className='form-row'>\n                            <div className='form-group col-md-6'>\n                                <label className='text-left' htmlFor='Lname_field'>Account Name:</label>\n                                <input  type=\"text\" id=\"Lname_field\" placeholder= 'Enter account name'/>\n                            </div>\n                            <div className='form-group col-md-6'>\n                                <label className='text-left' htmlFor='Lpassword'>Password:</label>\n                                <input  type=\"password\" id=\"Lpassword\" placeholder= 'Enter password'/>\n                            </div>\n                        </div>\n\n                            <div className='form-row center'>\n\n                                <div className='form-group col-md-12'>\n                                    <button className=\"btn btn-primary\" type = 'submit'>Login</button>\n                                </div>\n                            </div>\n\n                        </form>\n                    </div>\n                </div>\n\n            </div>\n\n        )\n    }\n\n}\nconst mapStateToProps = (state) => {\n\n    return {\n        usergroup:state.usergroup\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        userlogin: (userId,password) => dispatch(userlogin(userId,password)),\n\n    }\n};\n\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Login)\n"]},"metadata":{},"sourceType":"module"}