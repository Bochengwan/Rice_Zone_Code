{"ast":null,"code":"import _classCallCheck from\"/Users/alexwan/Documents/GitHub/final-frontend-BochengWan123/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alexwan/Documents/GitHub/final-frontend-BochengWan123/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/alexwan/Documents/GitHub/final-frontend-BochengWan123/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/alexwan/Documents/GitHub/final-frontend-BochengWan123/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/alexwan/Documents/GitHub/final-frontend-BochengWan123/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from'react-redux';import'bootstrap/dist/css/bootstrap.min.css';import{Redirect}from\"react-router-dom\";import{register as _register}from\"../../actions\";var baseurl=new URL(\"https://ricezonefinalbocheng.herokuapp.com/\");var Registration=/*#__PURE__*/function(_React$Component){_inherits(Registration,_React$Component);var _super=_createSuper(Registration);function Registration(props){var _this;_classCallCheck(this,Registration);_this=_super.call(this,props);_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.validateDateOfBirth=_this.validateDateOfBirth.bind(_assertThisInitialized(_this));_this.errorMessage='';_this.state={redirect:false,userId:\"\",baseinfo:{zipcode:'',phonenumber:'',email:''}};return _this;}_createClass(Registration,[{key:\"handleSubmit\",value:function handleSubmit(e){var _this2=this;e.preventDefault();this.errorMessage='';this.user=document.getElementById(\"name_field\").value;this.pw=document.getElementById(\"password1\").value;// let temp = this.props.usergroup\n// let found = temp.find(element=>element[0]===this.user)\n// console.log(found)\nvar zc=Number(document.getElementById(\"zipcode\").value);var pn=document.getElementById(\"phonenumber\").value;var em=document.getElementById(\"email\").value;var dob=document.getElementById(\"dob\").value;var input={\"username\":this.user,\"password\":Number(this.pw),\"email\":em,\"dob\":dob,\"zipcode\":zc,\"phone\":pn};var option={headers:{\"content-type\":\"application/json\"},body:JSON.stringify(input),method:\"POST\",credentials:\"include\"};//this.setState({userId:this.user});\n//this.setState({baseinfo:{zipcode:zc,phonenumber:pn,email:em}});\nif(document.getElementById(\"password1\").value===document.getElementById(\"password2\").value){if(!this.validateDateOfBirth(document.getElementById(\"dob\"))){//if(this.errorMessage === ''){\n//  this.setState({redirect:true});\n//}\n}else{this.errorMessage+='You need to be 18 years old or older!';}}else{this.errorMessage+='The passwords are not the same!';}console.log(this.errorMessage);if(this.errorMessage==''){fetch(baseurl+\"register\",option).then(function(res){return res.json();}).then(function(res){if(res.result==='success'){_this2.props.register(_this2.user,{zipcode:zc,phonenumber:pn,email:em});}else{_this2.errorMessage+='Registration error!';}});}console.log(this.errorMessage);this.setState({errorMessage:this.errorMessage});}},{key:\"validateDateOfBirth\",value:function validateDateOfBirth(dob){var inputdate=new Date(dob.value);var cdate=new Date();var dyear=cdate.getFullYear()-inputdate.getFullYear();var dmonth=cdate.getMonth()-inputdate.getMonth();var dday=cdate.getDate()-inputdate.getDate();if(dyear>18){return false;}else if(dmonth>0&&dyear===18){return false;}else if(dday>=0&&dmonth===0&&dyear===18){return false;}else{return true;}}},{key:\"render\",value:function render(){if(this.state.redirect){return/*#__PURE__*/React.createElement(Redirect,{to:\"/Main\"});}return/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-6 col-md-6 col-sm-6 col-xs-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header text-left\"},\"Register\"),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},!(this.errorMessage==='')?/*#__PURE__*/React.createElement(\"div\",{className:\"row alert-danger\"},this.errorMessage):'',/*#__PURE__*/React.createElement(\"form\",{method:\"GET\",action:\"index.html\",onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left\",htmlFor:\"display_name\"},\"Display Name:\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"text\",id:\"display_name\",placeholder:\"optional\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left\",htmlFor:\"name_field\"},\"Account Name:\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"text\",id:\"name_field\",required:true,placeholder:\"Enter your account name\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left\",htmlFor:\"email\"},\"Email address:\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"email\",id:\"email\",placeholder:\"abc@abc.abc\",required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left\",htmlFor:\"phonenumber\"},\"Phone number:\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"tel\",id:\"phonenumber\",pattern:\"[0-9]{3}-[0-9]{3}-[0-9]{4}\",required:true,placeholder:\"xxx-xxx-xxxx\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left\",htmlFor:\"dob\"},\"Date of birth:\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"date\",id:\"dob\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left\",htmlFor:\"zipcode\"},\"Zipcode:\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"text\",id:\"zipcode\",pattern:\"[0-9]{5}\",requiredplaceholder:\"xxxxx\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left\",htmlFor:\"password1\"},\"Password:\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"password\",id:\"password1\",placeholder:\"Enter your password\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left\",htmlFor:\"password2\"},\"Confirm Password:\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",type:\"password\",id:\"password2\",required:true,placeholder:\"Please confirm password\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",type:\"submit\"},\"Register\")),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",type:\"reset\"},\"Clear\")))))));}}]);return Registration;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{usergroup:state.usergroup};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{register:function register(userId,baseinfo){return dispatch(_register(userId,baseinfo));}};};export default connect(mapStateToProps,mapDispatchToProps)(Registration);","map":{"version":3,"sources":["/Users/alexwan/Documents/GitHub/final-frontend-BochengWan123/frontend/src/Component/Landing/Registration.js"],"names":["React","connect","Redirect","register","baseurl","URL","Registration","props","handleSubmit","bind","validateDateOfBirth","errorMessage","state","redirect","userId","baseinfo","zipcode","phonenumber","email","e","preventDefault","user","document","getElementById","value","pw","zc","Number","pn","em","dob","input","option","headers","body","JSON","stringify","method","credentials","console","log","fetch","then","res","json","result","setState","inputdate","Date","cdate","dyear","getFullYear","dmonth","getMonth","dday","getDate","Component","mapStateToProps","usergroup","mapDispatchToProps","dispatch"],"mappings":"46BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAO,sCAAP,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,OAAQC,QAAQ,GAARA,CAAAA,SAAR,KAAuB,eAAvB,CACA,GAAMC,CAAAA,OAAO,CAAG,GAAIC,CAAAA,GAAJ,CAAQ,6CAAR,CAAhB,C,GAGMC,CAAAA,Y,wHACF,sBAAYC,KAAZ,CAAmB,8CACf,uBAAMA,KAAN,EACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB,CACA,MAAKC,mBAAL,CAA2B,MAAKA,mBAAL,CAAyBD,IAAzB,+BAA3B,CACA,MAAKE,YAAL,CAAoB,EAApB,CACA,MAAKC,KAAL,CAAa,CACTC,QAAQ,CAAC,KADA,CAETC,MAAM,CAAC,EAFE,CAGTC,QAAQ,CAAC,CAACC,OAAO,CAAC,EAAT,CAAYC,WAAW,CAAC,EAAxB,CAA2BC,KAAK,CAAC,EAAjC,CAHA,CAAb,CALe,aAYlB,C,2EAEaC,C,CAAE,iBACZA,CAAC,CAACC,cAAF,GACA,KAAKT,YAAL,CAAoB,EAApB,CACA,KAAKU,IAAL,CAAYC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,KAAlD,CACC,KAAKC,EAAL,CAAUH,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAA/C,CACD;AACA;AACA;AACA,GAAIE,CAAAA,EAAE,CAAGC,MAAM,CAACL,QAAQ,CAACC,cAAT,CAAwB,SAAxB,EAAmCC,KAApC,CAAf,CACA,GAAII,CAAAA,EAAE,CAAGN,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KAAhD,CACA,GAAIK,CAAAA,EAAE,CAAGP,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAA1C,CACA,GAAIM,CAAAA,GAAG,CAAGR,QAAQ,CAACC,cAAT,CAAwB,KAAxB,EAA+BC,KAAzC,CACA,GAAIO,CAAAA,KAAK,CAAG,CAAC,WAAW,KAAKV,IAAjB,CAAsB,WAAWM,MAAM,CAAC,KAAKF,EAAN,CAAvC,CAAiD,QAAQI,EAAzD,CAA4D,MAAMC,GAAlE,CAAsE,UAAUJ,EAAhF,CAAmF,QAAQE,EAA3F,CAAZ,CAEC,GAAII,CAAAA,MAAM,CAAG,CACTC,OAAO,CAAC,CAAC,eAAe,kBAAhB,CADC,CAETC,IAAI,CAACC,IAAI,CAACC,SAAL,CAAeL,KAAf,CAFI,CAGTM,MAAM,CAAC,MAHE,CAITC,WAAW,CAAC,SAJH,CAAb,CAMD;AACA;AAGC,GAAGhB,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAArC,GAA+CF,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAAvF,CAA6F,CACzF,GAAG,CAAC,KAAKd,mBAAL,CAAyBY,QAAQ,CAACC,cAAT,CAAwB,KAAxB,CAAzB,CAAJ,CAA6D,CACzD;AACE;AACF;AAEH,CALD,IAKO,CACH,KAAKZ,YAAL,EAAqB,uCAArB,CACH,CACJ,CATD,IASO,CACH,KAAKA,YAAL,EAAqB,iCAArB,CACH,CAED4B,OAAO,CAACC,GAAR,CAAY,KAAK7B,YAAjB,EAEA,GAAG,KAAKA,YAAL,EAAmB,EAAtB,CAAyB,CACrB8B,KAAK,CAACrC,OAAO,CAAC,UAAT,CAAoB4B,MAApB,CAAL,CAAiCU,IAAjC,CAAsC,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAAzC,EAAyDF,IAAzD,CAA8D,SAAAC,GAAG,CAAI,CACjE,GAAGA,GAAG,CAACE,MAAJ,GAAe,SAAlB,CAA4B,CACxB,MAAI,CAACtC,KAAL,CAAWJ,QAAX,CAAoB,MAAI,CAACkB,IAAzB,CAA+B,CAACL,OAAO,CAACU,EAAT,CAAYT,WAAW,CAACW,EAAxB,CAA2BV,KAAK,CAACW,EAAjC,CAA/B,EACH,CAFD,IAEM,CACF,MAAI,CAAClB,YAAL,EAAqB,qBAArB,CACH,CACJ,CAND,EAQH,CACD4B,OAAO,CAACC,GAAR,CAAY,KAAK7B,YAAjB,EACA,KAAKmC,QAAL,CAAc,CAACnC,YAAY,CAAC,KAAKA,YAAnB,CAAd,EACJ,C,gEAEmBmB,G,CAAI,CACpB,GAAIiB,CAAAA,SAAS,CAAG,GAAIC,CAAAA,IAAJ,CAASlB,GAAG,CAACN,KAAb,CAAhB,CACA,GAAIyB,CAAAA,KAAK,CAAG,GAAID,CAAAA,IAAJ,EAAZ,CACA,GAAIE,CAAAA,KAAK,CAAGD,KAAK,CAACE,WAAN,GAAoBJ,SAAS,CAACI,WAAV,EAAhC,CACA,GAAIC,CAAAA,MAAM,CAAGH,KAAK,CAACI,QAAN,GAAiBN,SAAS,CAACM,QAAV,EAA9B,CACA,GAAIC,CAAAA,IAAI,CAAGL,KAAK,CAACM,OAAN,GAAgBR,SAAS,CAACQ,OAAV,EAA3B,CAEA,GAAIL,KAAK,CAAC,EAAV,CAAa,CACT,MAAO,MAAP,CACH,CAFD,IAEO,IAAIE,MAAM,CAAC,CAAP,EAAYF,KAAK,GAAK,EAA1B,CAA6B,CAChC,MAAO,MAAP,CACH,CAFM,IAEA,IAAII,IAAI,EAAE,CAAN,EAAWF,MAAM,GAAK,CAAtB,EAA2BF,KAAK,GAAK,EAAzC,CAA6C,CAChD,MAAO,MAAP,CACH,CAFM,IAEA,CACH,MAAO,KAAP,CACH,CACJ,C,uCAIO,CACJ,GAAG,KAAKtC,KAAL,CAAWC,QAAd,CAAuB,CACnB,mBACA,oBAAC,QAAD,EAAU,EAAE,CAAC,OAAb,EADA,CAEH,CACD,mBAEQ,2BAAK,SAAS,CAAG,qCAAjB,eACI,2BAAK,SAAS,CAAC,MAAf,eACI,2BAAK,SAAS,CAAC,uBAAf,aADJ,cAEI,2BAAK,SAAS,CAAC,WAAf,EACK,EAAE,KAAKF,YAAL,GAAqB,EAAvB,eAA4B,2BAAK,SAAS,CAAE,kBAAhB,EAAoC,KAAKA,YAAzC,CAA5B,CAAyF,EAD9F,cAEI,4BAAM,MAAM,CAAC,KAAb,CAAmB,MAAM,CAAC,YAA1B,CAAuC,QAAQ,CAAE,KAAKH,YAAtD,eACI,2BAAK,SAAS,CAAG,UAAjB,eACA,2BAAK,SAAS,CAAC,qBAAf,eACI,6BAAO,SAAS,CAAE,WAAlB,CAA8B,OAAO,CAAC,cAAtC,kBADJ,cAEI,6BAAO,SAAS,CAAC,cAAjB,CAAgC,IAAI,CAAC,MAArC,CAA4C,EAAE,CAAG,cAAjD,CAAgE,WAAW,CAAG,UAA9E,EAFJ,CADA,cAKA,2BAAK,SAAS,CAAC,qBAAf,eACI,6BAAO,SAAS,CAAE,WAAlB,CAA8B,OAAO,CAAG,YAAxC,kBADJ,cAEI,6BAAO,SAAS,CAAC,cAAjB,CAAgC,IAAI,CAAC,MAArC,CAA4C,EAAE,CAAG,YAAjD,CAA8D,QAAQ,KAAtE,CAAuE,WAAW,CAAC,yBAAnF,EAFJ,CALA,CADJ,cAYI,2BAAK,SAAS,CAAC,UAAf,eACI,2BAAK,SAAS,CAAC,qBAAf,eACI,6BAAO,SAAS,CAAC,WAAjB,CAA6B,OAAO,CAAC,OAArC,mBADJ,cAEI,6BAAO,SAAS,CAAC,cAAjB,CAAgC,IAAI,CAAC,OAArC,CAA6C,EAAE,CAAC,OAAhD,CAAwD,WAAW,CAAE,aAArE,CAAkF,QAAQ,KAA1F,EAFJ,CADJ,cAKI,2BAAK,SAAS,CAAC,qBAAf,eACI,6BAAO,SAAS,CAAC,WAAjB,CAA6B,OAAO,CAAC,aAArC,kBADJ,cAEI,6BAAO,SAAS,CAAC,cAAjB,CAAgC,IAAI,CAAC,KAArC,CAA2C,EAAE,CAAC,aAA9C,CAA4D,OAAO,CAAC,4BAApE,CAAiG,QAAQ,KAAzG,CAA0G,WAAW,CAAE,cAAvH,EAFJ,CALJ,CAZJ,cAuBI,2BAAK,SAAS,CAAC,UAAf,eACI,2BAAK,SAAS,CAAC,qBAAf,eACI,6BAAO,SAAS,CAAC,WAAjB,CAA6B,OAAO,CAAC,KAArC,mBADJ,cAEI,6BAAO,SAAS,CAAC,cAAjB,CAAgC,IAAI,CAAC,MAArC,CAA4C,EAAE,CAAC,KAA/C,EAFJ,CADJ,cAKI,2BAAK,SAAS,CAAC,qBAAf,eACI,6BAAO,SAAS,CAAC,WAAjB,CAA6B,OAAO,CAAC,SAArC,aADJ,cAEI,6BAAO,SAAS,CAAC,cAAjB,CAAgC,IAAI,CAAC,MAArC,CAA4C,EAAE,CAAC,SAA/C,CAAyD,OAAO,CAAC,UAAjE,CAA4E,mBAAmB,CAAE,OAAjG,EAFJ,CALJ,CAvBJ,cAkCI,2BAAK,SAAS,CAAC,UAAf,eACI,2BAAK,SAAS,CAAC,qBAAf,eACI,6BAAO,SAAS,CAAC,WAAjB,CAA6B,OAAO,CAAC,WAArC,cADJ,cAEI,6BAAO,SAAS,CAAC,cAAjB,CAAgC,IAAI,CAAC,UAArC,CAAgD,EAAE,CAAC,WAAnD,CAA+D,WAAW,CAAE,qBAA5E,EAFJ,CADJ,cAKI,2BAAK,SAAS,CAAC,qBAAf,eACI,6BAAO,SAAS,CAAC,WAAjB,CAA6B,OAAO,CAAC,WAArC,sBADJ,cAEI,6BAAO,SAAS,CAAC,cAAjB,CAAgC,IAAI,CAAC,UAArC,CAAgD,EAAE,CAAC,WAAnD,CAA+D,QAAQ,KAAvE,CAAwE,WAAW,CAAE,yBAArF,EAFJ,CALJ,CAlCJ,cA6CI,2BAAK,SAAS,CAAE,iBAAhB,eACI,2BAAK,SAAS,CAAC,qBAAf,eACI,8BAAQ,SAAS,CAAC,iBAAlB,CAAoC,IAAI,CAAG,QAA3C,aADJ,CADJ,cAII,2BAAK,SAAS,CAAC,qBAAf,eACI,8BAAQ,SAAS,CAAC,iBAAlB,CAAoC,IAAI,CAAG,OAA3C,UADJ,CAJJ,CA7CJ,CAFJ,CAFJ,CADJ,CAFR,CAwEH,C,0BArKsBR,KAAK,CAACwD,S,EAyKjC,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAC7C,KAAD,CAAW,CAE/B,MAAO,CACH8C,SAAS,CAAC9C,KAAK,CAAC8C,SADb,CAAP,CAGH,CALD,CAMA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAc,CACrC,MAAO,CACHzD,QAAQ,CAAE,kBAACW,MAAD,CAAQC,QAAR,QAAqB6C,CAAAA,QAAQ,CAACzD,SAAQ,CAACW,MAAD,CAAQC,QAAR,CAAT,CAA7B,EADP,CAAP,CAGH,CAJD,CAOA,cAAed,CAAAA,OAAO,CAACwD,eAAD,CAAiBE,kBAAjB,CAAP,CAA4CrD,YAA5C,CAAf","sourcesContent":["import React from \"react\";\nimport { connect } from 'react-redux';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Redirect } from \"react-router-dom\";\nimport {register} from \"../../actions\";\nconst baseurl = new URL(\"https://ricezonefinalbocheng.herokuapp.com/\");\n\n\nclass Registration extends React.Component{\n    constructor(props) {\n        super(props);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.validateDateOfBirth = this.validateDateOfBirth.bind(this)\n        this.errorMessage = '';\n        this.state = {\n            redirect:false,\n            userId:\"\",\n            baseinfo:{zipcode:'',phonenumber:'',email:''},\n\n        }\n\n    }\n\n     handleSubmit(e){\n        e.preventDefault();\n        this.errorMessage = '';\n        this.user = document.getElementById(\"name_field\").value;\n         this.pw = document.getElementById(\"password1\").value\n        // let temp = this.props.usergroup\n        // let found = temp.find(element=>element[0]===this.user)\n        // console.log(found)\n        let zc = Number(document.getElementById(\"zipcode\").value);\n        let pn = document.getElementById(\"phonenumber\").value;\n        let em = document.getElementById(\"email\").value;\n        let dob = document.getElementById(\"dob\").value;\n        let input = {\"username\":this.user,\"password\":Number(this.pw),\"email\":em,\"dob\":dob,\"zipcode\":zc,\"phone\":pn};\n\n         let option = {\n             headers:{\"content-type\":\"application/json\"},\n             body:JSON.stringify(input),\n             method:\"POST\",\n             credentials:\"include\",\n         };\n        //this.setState({userId:this.user});\n        //this.setState({baseinfo:{zipcode:zc,phonenumber:pn,email:em}});\n\n\n         if(document.getElementById(\"password1\").value === document.getElementById(\"password2\").value){\n             if(!this.validateDateOfBirth(document.getElementById(\"dob\"))){\n                 //if(this.errorMessage === ''){\n                   //  this.setState({redirect:true});\n                 //}\n\n             } else {\n                 this.errorMessage += 'You need to be 18 years old or older!'\n             }\n         } else {\n             this.errorMessage += 'The passwords are not the same!'\n         }\n\n         console.log(this.errorMessage)\n\n         if(this.errorMessage==''){\n             fetch(baseurl+\"register\",option).then(res => res.json()).then(res => {\n                 if(res.result === 'success'){\n                     this.props.register(this.user, {zipcode:zc,phonenumber:pn,email:em});\n                 } else{\n                     this.errorMessage += 'Registration error!'\n                 }\n             })\n\n         }\n         console.log(this.errorMessage)\n         this.setState({errorMessage:this.errorMessage})\n    }\n\n    validateDateOfBirth(dob){\n        let inputdate = new Date(dob.value);\n        let cdate = new Date();\n        let dyear = cdate.getFullYear()-inputdate.getFullYear();\n        let dmonth = cdate.getMonth()-inputdate.getMonth();\n        let dday = cdate.getDate()-inputdate.getDate();\n\n        if (dyear>18){\n            return false;\n        } else if (dmonth>0 && dyear === 18){\n            return false;\n        } else if (dday>=0 && dmonth === 0 && dyear === 18) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n\n\n    render(){\n        if(this.state.redirect){\n            return(\n            <Redirect to='/Main' />)\n        }\n        return(\n\n                <div className = \"col-lg-6 col-md-6 col-sm-6 col-xs-6\">\n                    <div className='card'>\n                        <div className='card-header text-left'>Register</div>\n                        <div className='card-body'>\n                            {!(this.errorMessage=== '')? <div className= 'row alert-danger'>{this.errorMessage}</div>:''}\n                            <form method=\"GET\" action=\"index.html\" onSubmit={this.handleSubmit} >\n                                <div className = 'form-row'>\n                                <div className='form-group col-md-6'>\n                                    <label className= 'text-left' htmlFor='display_name'>Display Name:</label>\n                                    <input className='form-control' type=\"text\" id = \"display_name\" placeholder = 'optional' />\n                                </div>\n                                <div className='form-group col-md-6'>\n                                    <label className= 'text-left' htmlFor = 'name_field'>Account Name:</label>\n                                    <input className='form-control' type=\"text\" id = \"name_field\" required placeholder='Enter your account name'/>\n                                </div>\n                                </div>\n\n                                <div className='form-row'>\n                                    <div className='form-group col-md-6'>\n                                        <label className='text-left' htmlFor='email'>Email address:</label>\n                                        <input className='form-control' type=\"email\" id=\"email\" placeholder= 'abc@abc.abc'required/>\n                                    </div>\n                                    <div className='form-group col-md-6'>\n                                        <label className='text-left' htmlFor='phonenumber'>Phone number:</label>\n                                        <input className='form-control' type=\"tel\" id=\"phonenumber\" pattern=\"[0-9]{3}-[0-9]{3}-[0-9]{4}\" required placeholder= 'xxx-xxx-xxxx'/>\n                                    </div>\n                                </div>\n\n                                <div className='form-row'>\n                                    <div className='form-group col-md-6'>\n                                        <label className='text-left' htmlFor='dob'>Date of birth:</label>\n                                        <input className='form-control' type=\"date\" id=\"dob\"/>\n                                    </div>\n                                    <div className='form-group col-md-6'>\n                                        <label className='text-left' htmlFor='zipcode'>Zipcode:</label>\n                                        <input className='form-control' type=\"text\" id=\"zipcode\" pattern=\"[0-9]{5}\" requiredplaceholder= 'xxxxx'/>\n                                    </div>\n                                </div>\n\n                                <div className='form-row'>\n                                    <div className='form-group col-md-6'>\n                                        <label className='text-left' htmlFor='password1'>Password:</label>\n                                        <input className='form-control' type=\"password\" id=\"password1\" placeholder= 'Enter your password'/>\n                                    </div>\n                                    <div className='form-group col-md-6'>\n                                        <label className='text-left' htmlFor='password2'>Confirm Password:</label>\n                                        <input className='form-control' type=\"password\" id=\"password2\" required placeholder= 'Please confirm password'/>\n                                    </div>\n                                </div>\n\n                                <div className= 'form-row center'>\n                                    <div className='form-group col-md-6'>\n                                        <button className=\"btn btn-primary\" type = 'submit'>Register</button>\n                                    </div>\n                                    <div className='form-group col-md-6'>\n                                        <button className=\"btn btn-primary\" type = 'reset'>Clear</button>\n                                    </div>\n                                </div>\n\n\n\n                            </form>\n                        </div>\n                    </div>\n\n                    </div>\n\n\n\n        )\n    }\n\n}\n\nconst mapStateToProps = (state) => {\n\n    return {\n        usergroup:state.usergroup\n    }\n};\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        register: (userId,baseinfo) => dispatch(register(userId,baseinfo))\n    }\n};\n\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Registration)"]},"metadata":{},"sourceType":"module"}