{"ast":null,"code":"import _classCallCheck from\"/Users/alexwan/Documents/GitHub/hw5-BochengWan123/hw5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/alexwan/Documents/GitHub/hw5-BochengWan123/hw5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/alexwan/Documents/GitHub/hw5-BochengWan123/hw5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/alexwan/Documents/GitHub/hw5-BochengWan123/hw5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/alexwan/Documents/GitHub/hw5-BochengWan123/hw5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from'react-redux';import'bootstrap/dist/css/bootstrap.min.css';import{userlogin as _userlogin}from\"../../actions\";import{Redirect}from\"react-router-dom\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.errorMessage='';_this.state={redirect:false,userId:\"\",usergroup:_this.props.usergroup};return _this;}_createClass(Login,[{key:\"handleSubmit\",value:function handleSubmit(e){var _this2=this;e.preventDefault();this.errorMessage='';this.user=document.getElementById(\"Lname_field\").value;this.pw=document.getElementById(\"Lpassword\").value;var temp=this.props.usergroup;var found=temp.find(function(element){return element[0]===_this2.user&&element[1]===_this2.pw;});var found1=temp.find(function(element){return element[0]===_this2.user;});if(this.user!==''&&this.pw!==''){if(found1===undefined){this.errorMessage='Not an existing user!';}else if(found===undefined){this.errorMessage='Password is not correct!';}else{this.props.userlogin(this.user,this.pw);this.setState({redirect:true});}}else{this.errorMessage='Account name or password cannot be blank!';}this.setState({errorMessage:this.errorMessage});return this.errorMessage;}},{key:\"render\",value:function render(){if(this.state.redirect){return/*#__PURE__*/React.createElement(Redirect,{to:\"/Main\"});}return/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-6 col-md-6 col-sm-6 col-xs-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header text-left\"},\"Login\"),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},!(this.errorMessage==='')?/*#__PURE__*/React.createElement(\"div\",{className:\"row alert-danger\"},this.errorMessage):'',/*#__PURE__*/React.createElement(\"form\",{method:\"GET\",action:\"index.html\",onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left\",htmlFor:\"Lname_field\"},\"Account Name:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"Lname_field\",placeholder:\"Enter account name\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-6\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-left\",htmlFor:\"Lpassword\"},\"Password:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"Lpassword\",placeholder:\"Enter password\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-row center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group col-md-12\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",type:\"submit\"},\"Login\")))))));}}]);return Login;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{usergroup:state.usergroup};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{userlogin:function userlogin(userId,password){return dispatch(_userlogin(userId,password));}};};export default connect(mapStateToProps,mapDispatchToProps)(Login);","map":{"version":3,"sources":["/Users/alexwan/Documents/GitHub/hw5-BochengWan123/hw5/src/Component/Landing/Login.js"],"names":["React","connect","userlogin","Redirect","Login","props","handleSubmit","bind","errorMessage","state","redirect","userId","usergroup","e","preventDefault","user","document","getElementById","value","pw","temp","found","find","element","found1","undefined","setState","Component","mapStateToProps","mapDispatchToProps","dispatch","password"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from 'react-redux';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {userlogin} from \"../../actions\";\nimport {Redirect} from \"react-router-dom\";\n\nclass Login extends React.Component{\n    constructor(props) {\n        super(props);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.errorMessage = '';\n        this.state = {\n            redirect:false,\n            userId:\"\",\n            usergroup:this.props.usergroup\n        }\n    }\n    handleSubmit(e){\n        e.preventDefault();\n\n        this.errorMessage = '';\n        this.user = document.getElementById(\"Lname_field\").value;\n        this.pw = document.getElementById(\"Lpassword\").value\n        let temp = this.props.usergroup\n\n        let found = temp.find(element=>(element[0]===this.user && element[1]===this.pw))\n        let found1 = temp.find(element=>(element[0]===this.user))\n\n        if(this.user!=='' && this.pw!==''){\n            if(found1 === undefined){\n                this.errorMessage = 'Not an existing user!';\n            } else if(found === undefined){\n                this.errorMessage = 'Password is not correct!';\n            } else {\n                this.props.userlogin(this.user, this.pw);\n                this.setState({redirect: true});\n            }\n        } else {\n            this.errorMessage = 'Account name or password cannot be blank!';\n        }\n        this.setState({errorMessage:this.errorMessage})\n        return this.errorMessage\n\n    }\n    render(){\n        if(this.state.redirect){\n            return(\n                <Redirect to='/Main' />)\n        }\n        return(\n            <div className = \"col-lg-6 col-md-6 col-sm-6 col-xs-6\">\n\n                <div className='card' >\n                    <div className='card-header text-left'>Login</div>\n                    <div className='card-body'>\n                        {!(this.errorMessage=== '')? <div className= 'row alert-danger'>{this.errorMessage}</div>:''}\n                        <form method=\"GET\" action=\"index.html\" onSubmit = {this.handleSubmit}>\n                        <div className='form-row'>\n                            <div className='form-group col-md-6'>\n                                <label className='text-left' htmlFor='Lname_field'>Account Name:</label>\n                                <input  type=\"text\" id=\"Lname_field\" placeholder= 'Enter account name'/>\n                            </div>\n                            <div className='form-group col-md-6'>\n                                <label className='text-left' htmlFor='Lpassword'>Password:</label>\n                                <input  type=\"password\" id=\"Lpassword\" placeholder= 'Enter password'/>\n                            </div>\n                        </div>\n\n                            <div className='form-row center'>\n\n                                <div className='form-group col-md-12'>\n                                    <button className=\"btn btn-primary\" type = 'submit'>Login</button>\n                                </div>\n                            </div>\n\n                        </form>\n                    </div>\n                </div>\n\n            </div>\n\n        )\n    }\n\n}\nconst mapStateToProps = (state) => {\n\n    return {\n        usergroup:state.usergroup\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        userlogin: (userId,password) => dispatch(userlogin(userId,password))\n    }\n};\n\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Login)\n"]},"metadata":{},"sourceType":"module"}