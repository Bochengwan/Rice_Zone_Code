{"ast":null,"code":"var _jsxFileName = \"/Users/alexwan/Documents/GitHub/final-frontend-BochengWan123/frontend/src/Component/Main/Main.js\";\nimport React from \"react\";\nimport { connect } from 'react-redux';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Redirect } from \"react-router-dom\";\nimport { userlogout, updateheadline, gotoprofile } from \"../../actions\";\nimport Avatar from 'react-avatar';\nimport './img.css';\nimport { bigimg, smallimg } from \"../../actions\";\nconst baseurl = new URL(\"https://ricezonefinalbocheng.herokuapp.com/\");\n\nclass Main extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleProfile = this.handleProfile.bind(this);\n    this.handleLogout = this.handleLogout.bind(this);\n    this.handleHeadline = this.handleHeadline.bind(this);\n    this.handleClear = this.handleClear.bind(this);\n    this.handlecomments = this.handlecomments.bind(this);\n    this.handlefriends = this.handlefriends.bind(this);\n    this.handleunfriends = this.handleunfriends.bind(this);\n    this.handlePost = this.handlePost.bind(this);\n    this.search = this.search.bind(this);\n    this.state = {\n      userId: this.props.userId,\n      friendlist: this.props.friendlist,\n      baseinfo: this.props.baseinfo,\n      data: this.props.data,\n      toProfile: false,\n      toLanding: false,\n      headline: localStorage.getItem(this.props.userId) === null ? this.props.headline : localStorage.getItem(this.props.userId),\n      articles: this.props.articles,\n      searchcontent: [],\n      userscomment: [],\n      cookie: this.props.cookies,\n      avatar: bigimg\n    };\n    this.errorMessage = '';\n    let temp = this.props.usergroup;\n    this.theuser = temp.find(element => element[0] === this.state.userId);\n\n    if (this.theuser === undefined) {\n      this.hardcodeId = 1;\n    } else {\n      this.hardcodeId = this.theuser[5];\n    }\n  }\n\n  componentDidMount() {\n    //fetch(`https://jsonplaceholder.typicode.com/posts`).then(res => res.json()).then(res =>\n    //this.props.requestdata(res));\n    let option = {\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      method: \"GET\",\n      credentials: \"include\"\n    };\n\n    async function b(x) {\n      await fetch(baseurl + \"following\", option).then(res => res.json()).then(res => x.setState({\n        friendlist: res.following\n      }));\n      await fetch(baseurl + \"articles\", option).then(res => res.json()).then(res => x.setState({\n        articles: res.articles\n      }));\n      await fetch(baseurl + \"headline\", option).then(res => res.json()).then(res => x.setState({\n        headline: res.headline\n      }));\n      console.log(x.state);\n    }\n\n    b(this); // let a = () => {\n    //         this.setState({data: this.props.data});\n    //         if(this.state.friendlist.length == 0) {\n    //\n    //             this.getfriends(this.props.usergroup, this.hardcodeId);\n    //             this.getarticles(this.props.data);\n    //\n    //             }\n    //         }\n    // setTimeout(a, 500)\n  }\n\n  handlecomments(e) {\n    e.preventDefault();\n    let commentid = parseInt(e.target.id);\n    let commentstatus = this.state.userscomment;\n    commentstatus[commentid] = !commentstatus[commentid];\n    this.setState({\n      userscomment: commentstatus\n    });\n  }\n\n  handlePost(e) {\n    e.preventDefault();\n    let npost = document.getElementById(\"newpost\").value;\n    let option = {\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        \"text\": npost\n      }),\n      method: \"POST\",\n      credentials: \"include\"\n    };\n    let option1 = {\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      method: \"GET\",\n      credentials: \"include\"\n    };\n\n    async function b(x) {\n      await fetch(baseurl + \"article\", option).then(res => res.json()).then(res => {\n        console.log(res);\n      });\n      await fetch(baseurl + \"articles\", option1).then(res => res.json()).then(res => {\n        x.setState({\n          articles: res.articles\n        });\n      });\n    }\n\n    ;\n    b(this);\n    document.getElementById(\"newpost\").value = '';\n  }\n\n  handleProfile(e) {\n    e.preventDefault();\n    let temp = {\n      friendlist: this.state.friendlist,\n      articles: this.state.articles,\n      userId: this.props.userId\n    };\n    this.props.gotoprofile(temp);\n    this.setState({\n      toProfile: true\n    });\n  }\n\n  handleLogout(e) {\n    e.preventDefault();\n    let option = {\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      method: \"PUT\",\n      credentials: \"include\"\n    };\n\n    async function b(x) {\n      await fetch(baseurl + \"logout\", option).then(res => res.json()).then(res => {\n        if (res.result == 'success') {\n          x.props.userlogout();\n          x.setState({\n            toLanding: true\n          });\n        }\n      });\n    }\n\n    b(this);\n  }\n\n  handleHeadline(e) {\n    e.preventDefault();\n    let headline = document.getElementById('headlinetext').value;\n    let option = {\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        headline: headline\n      }),\n      method: \"PUT\",\n      credentials: \"include\"\n    };\n\n    async function b(x) {\n      await fetch(baseurl + \"headline\", option).then(res => res.json()).then(res => {\n        x.props.updateheadline(headline);\n        x.setState({\n          headline: res.headline\n        });\n      });\n    }\n\n    b(this);\n    document.getElementById('headlinetext').value = '';\n  }\n\n  handleClear(e) {\n    e.preventDefault();\n    document.getElementById('newpost').value = '';\n  }\n\n  handlefriends(e) {\n    e.preventDefault();\n    this.errorMessage = '';\n    let a = document.getElementById('newfriend').value;\n    let option = {\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      method: \"PUT\",\n      credentials: \"include\"\n    };\n\n    async function b(x) {\n      await fetch(baseurl + \"following/\" + a, option).then(res => res.json()).then(res => x.setState({\n        friendlist: res.following\n      }));\n    }\n\n    b(this); // let adding =  this.props.usergroup.find(element=>element[0]==a)\n    // if(a!='' && !this.state.friendlist.includes(a) && a!=this.props.userId && !(adding === undefined)) {\n    //     let temp = [...this.state.friendlist];\n    //     temp.push(document.getElementById('newfriend').value);\n    //     this.setState({friendlist: temp});\n    //     document.getElementById('newfriend').value = '';\n    // } else if (this.state.friendlist.includes(a) || a == this.props.userId){\n    //     this.errorMessage = 'Cannot add followed user or yourself!'\n    // } else if (adding === undefined){\n    //     this.errorMessage = 'Not an existing user!'\n  }\n\n  handleunfriends(e) {\n    let option = {\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      method: \"DELETE\",\n      credentials: \"include\"\n    };\n\n    async function b(x) {\n      await fetch(baseurl + \"following/\" + e.target.id, option).then(res => res.json()).then(res => x.setState({\n        friendlist: res.following\n      }));\n    }\n\n    b(this);\n  }\n\n  search(event) {\n    event.preventDefault();\n    let temp = [];\n    this.state.articles.forEach(function (e) {\n      if (e.author.includes(event.target.value) || e.text.includes(event.target.value)) {\n        temp.unshift(e);\n      }\n    });\n\n    if (event.target.value == '') {\n      temp = [];\n    }\n\n    this.setState({\n      searchcontent: temp\n    });\n  }\n\n  render() {\n    if (this.state.toProfile) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/Profile\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 21\n        }\n      });\n    }\n\n    if (this.state.toLanding) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 21\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 25\n      }\n    }, \" Hello! \", this.state.userId, \"!Welcome to your zone!\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-4 col-xs-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      onClick: this.handleLogout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 41\n      }\n    }, \"Logout\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-offset-4 col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      onClick: this.handleProfile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 41\n      }\n    }, \"Profile\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      round: true,\n      src: this.avatar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"font-weight-lighter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 41\n      }\n    }, this.state.userId))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      \"data-testid\": \"custom-element\",\n      className: \"font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 41\n      }\n    }, \"Status: \", this.state.headline))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"headlinetext\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.handleHeadline,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 41\n      }\n    }, \"Change\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-8 col-md-8 col-sm-8 col-xs-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      className: \"form-control\",\n      rows: \"5\",\n      id: \"newpost\",\n      placeholder: \"Post your day!\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary center\",\n      type: \"submit\",\n      onClick: this.handlePost,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 41\n      }\n    }, \"Post\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary center\",\n      type: \"submit\",\n      onClick: this.handleClear,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 41\n      }\n    }, \"Clear\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 41\n      }\n    }, \"Upload your picture:\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 64\n      }\n    }))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 29\n      }\n    }, \"Search bar: \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.search,\n      placeholder: \"For now, can only search by userId\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 44\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 29\n      }\n    }, this.state.searchcontent == [] ? '' : this.state.searchcontent.map((x, i) => /*#__PURE__*/React.createElement(\"div\", {\n      key: i,\n      className: \"row col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 41\n      }\n    }, \"  The user is \", x.author, \" and is post on \", x.date, \".The post content is \\\"\", x.text, \"\\\"\")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-4 col-xs-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 29\n      }\n    }, !(this.errorMessage === '') ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 62\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row alert-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 89\n      }\n    }, this.errorMessage)) : '', this.state.friendlist.map((x, i) => /*#__PURE__*/React.createElement(\"div\", {\n      key: i,\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Avatar, {\n      round: true,\n      src: smallimg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"font-weight-lighter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 45\n      }\n    }, \"user \", x), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 45\n      }\n    }, \"Status: \", localStorage.getItem(x) === null ? 'I am user ' + x : localStorage.getItem(x)), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-danger\",\n      id: x,\n      onClick: this.handleunfriends,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 45\n      }\n    }, \"Unfollow\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 45\n      }\n    })))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"newfriend\",\n      placeholder: \"add a new friend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 45\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      onClick: this.handlefriends,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 45\n      }\n    }, \"Follow\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-8 col-md-8 col-sm-8 col-xs-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"list-group list-group-flush\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 33\n      }\n    }, this.state.articles.map((x, i) => /*#__PURE__*/React.createElement(\"li\", {\n      key: i,\n      className: \"list-group-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: x.img,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"font-italic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 45\n      }\n    }, x.text), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 45\n      }\n    }, \"Published by: User \", x.author, \" on \", x.date, \" \"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 45\n      }\n    }, \"Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-warning\",\n      id: x.id,\n      onClick: this.handlecomments,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 45\n      }\n    }, \"Comment\"), this.state.userscomment[x.id] ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 49\n      }\n    }, x.comment.map((y, j) => /*#__PURE__*/React.createElement(\"div\", {\n      key: j,\n      className: \"list-group-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"font-italic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 61\n      }\n    }, y.text, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 61\n      }\n    }, \"Published by: \", y.author, \" on \", y.date)))) : '', /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 45\n      }\n    })))))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    userId: state.userId,\n    headline: state.headline,\n    baseinfo: state.baseinfo,\n    data: state.data,\n    friendlist: state.friendlist,\n    articles: state.articles,\n    usergroup: state.usergroup,\n    comments: state.comments\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    userlogout: () => dispatch(userlogout()),\n    updateheadline: headline => dispatch(updateheadline(headline)),\n    gotoprofile: input => dispatch(gotoprofile(input))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);","map":{"version":3,"sources":["/Users/alexwan/Documents/GitHub/final-frontend-BochengWan123/frontend/src/Component/Main/Main.js"],"names":["React","connect","Redirect","userlogout","updateheadline","gotoprofile","Avatar","bigimg","smallimg","baseurl","URL","Main","Component","constructor","props","handleProfile","bind","handleLogout","handleHeadline","handleClear","handlecomments","handlefriends","handleunfriends","handlePost","search","state","userId","friendlist","baseinfo","data","toProfile","toLanding","headline","localStorage","getItem","articles","searchcontent","userscomment","cookie","cookies","avatar","errorMessage","temp","usergroup","theuser","find","element","undefined","hardcodeId","componentDidMount","option","headers","method","credentials","b","x","fetch","then","res","json","setState","following","console","log","e","preventDefault","commentid","parseInt","target","id","commentstatus","npost","document","getElementById","value","body","JSON","stringify","option1","result","a","event","forEach","author","includes","text","unshift","render","map","i","date","img","comment","y","j","mapStateToProps","comments","mapDispatchToProps","dispatch","input"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from 'react-redux';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Redirect} from \"react-router-dom\";\nimport {userlogout,updateheadline,gotoprofile} from \"../../actions\";\nimport Avatar from 'react-avatar';\nimport './img.css';\nimport {bigimg, smallimg} from \"../../actions\";\nconst baseurl = new URL(\"https://ricezonefinalbocheng.herokuapp.com/\");\n\n\nclass Main extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleProfile = this.handleProfile.bind(this);\n        this.handleLogout = this.handleLogout.bind(this);\n        this.handleHeadline = this.handleHeadline.bind(this);\n        this.handleClear = this.handleClear.bind(this);\n\n        this.handlecomments = this.handlecomments.bind(this);\n        this.handlefriends = this.handlefriends.bind(this);\n        this.handleunfriends = this.handleunfriends.bind(this);\n        this.handlePost = this.handlePost.bind(this);\n        this.search = this.search.bind(this);\n\n\n\n        this.state = {\n            userId: this.props.userId,\n            friendlist: this.props.friendlist,\n            baseinfo: this.props.baseinfo,\n            data: this.props.data,\n            toProfile: false,\n            toLanding: false,\n            headline: localStorage.getItem(this.props.userId) === null ?this.props.headline:localStorage.getItem(this.props.userId),\n            articles: this.props.articles,\n            searchcontent : [],\n            userscomment:[],\n            cookie:this.props.cookies,\n            avatar:bigimg\n\n        }\n        this.errorMessage='';\n        let temp = this.props.usergroup\n        this.theuser = temp.find(element=>element[0]===this.state.userId)\n        if(this.theuser === undefined) {\n            this.hardcodeId = 1;\n        } else {\n            this.hardcodeId = this.theuser[5];\n        }\n\n        }\n\n\n\n        componentDidMount()\n        {   //fetch(`https://jsonplaceholder.typicode.com/posts`).then(res => res.json()).then(res =>\n            //this.props.requestdata(res));\n\n\n            let option = {\n                headers:{\"content-type\":\"application/json\"},\n                method:\"GET\",\n                credentials:\"include\",\n            };\n\n\n            async function b(x){\n                await fetch(baseurl+\"following\",option).then(res => res.json()).then(res=>x.setState({friendlist:res.following}));\n                await fetch(baseurl+\"articles\",option).then(res=>res.json()).then(res=>x.setState({articles:res.articles}));\n                await fetch(baseurl+\"headline\",option).then(res=>res.json()).then(res=>x.setState({headline:res.headline}));\n                console.log(x.state)\n\n            }\n            b(this);\n\n\n\n            // let a = () => {\n            //         this.setState({data: this.props.data});\n            //         if(this.state.friendlist.length == 0) {\n            //\n            //             this.getfriends(this.props.usergroup, this.hardcodeId);\n            //             this.getarticles(this.props.data);\n            //\n            //             }\n            //         }\n            // setTimeout(a, 500)\n\n        }\n\n        handlecomments(e){\n            e.preventDefault();\n            let commentid = parseInt(e.target.id)\n\n\n            let commentstatus = this.state.userscomment\n            commentstatus[commentid] = !commentstatus[commentid]\n\n            this.setState({userscomment:commentstatus})\n\n\n        }\n\n\n        handlePost(e){\n            e.preventDefault();\n\n            let npost = document.getElementById(\"newpost\").value;\n\n            let option = {\n                headers:{\"content-type\":\"application/json\"},\n                body:JSON.stringify({\"text\":npost}),\n                method:\"POST\",\n                credentials:\"include\",\n            };\n            let option1 = {\n                headers:{\"content-type\":\"application/json\"},\n                method:\"GET\",\n                credentials:\"include\",\n            };\n            async function b(x){\n                await fetch(baseurl+\"article\",option).then(res => res.json()).then(res=> {\n                    console.log(res);\n                    })\n                await fetch(baseurl+\"articles\",option1).then(res=>res.json()).then(res=>{x.setState({articles:res.articles})});\n                };\n            b(this);\n\n            document.getElementById(\"newpost\").value='';\n\n        }\n        handleProfile(e)\n        {\n            e.preventDefault();\n            let temp = {friendlist: this.state.friendlist,articles: this.state.articles,userId:this.props.userId}\n            this.props.gotoprofile(temp);\n            this.setState({toProfile: true});\n        }\n        handleLogout(e)\n        {\n            e.preventDefault();\n            let option = {\n                headers:{\"content-type\":\"application/json\"},\n                method:\"PUT\",\n                credentials:\"include\",\n            };\n            async function b(x){\n                await fetch(baseurl+\"logout\",option).then(res => res.json()).then(res=> {\n                    if(res.result == 'success'){\n                        x.props.userlogout();\n                        x.setState({toLanding: true})\n                    }\n                });\n\n            }\n            b(this);\n\n\n\n        }\n\n        handleHeadline(e)\n        {\n            e.preventDefault();\n            let headline = document.getElementById('headlinetext').value;\n\n            let option = {\n                headers:{\"content-type\":\"application/json\"},\n                body:JSON.stringify({headline:headline}),\n                method:\"PUT\",\n                credentials:\"include\",\n            };\n            async function b(x){\n                await fetch(baseurl+\"headline\",option).then(res => res.json()).then(res=> {\n                    x.props.updateheadline(headline);\n                    x.setState({headline: res.headline});\n                });\n\n            }\n            b(this);\n            document.getElementById('headlinetext').value = '';\n        }\n\n        handleClear(e)\n        {\n            e.preventDefault();\n            document.getElementById('newpost').value = '';\n\n        }\n\n        handlefriends(e){\n            e.preventDefault();\n            this.errorMessage = ''\n            let a = document.getElementById('newfriend').value;\n            let option = {\n                headers:{\"content-type\":\"application/json\"},\n                method:\"PUT\",\n                credentials:\"include\",\n            };\n            async function b(x){\n                await fetch(baseurl+\"following/\"+a,option).then(res => res.json()).then(res=>x.setState({friendlist:res.following}));\n            }\n            b(this);\n            // let adding =  this.props.usergroup.find(element=>element[0]==a)\n            // if(a!='' && !this.state.friendlist.includes(a) && a!=this.props.userId && !(adding === undefined)) {\n            //     let temp = [...this.state.friendlist];\n            //     temp.push(document.getElementById('newfriend').value);\n            //     this.setState({friendlist: temp});\n            //     document.getElementById('newfriend').value = '';\n            // } else if (this.state.friendlist.includes(a) || a == this.props.userId){\n            //     this.errorMessage = 'Cannot add followed user or yourself!'\n            // } else if (adding === undefined){\n            //     this.errorMessage = 'Not an existing user!'\n\n\n\n        }\n\n        handleunfriends(e){\n            let option = {\n                headers:{\"content-type\":\"application/json\"},\n                method:\"DELETE\",\n                credentials:\"include\",\n            };\n            async function b(x){\n                await fetch(baseurl+\"following/\"+e.target.id,option).then(res => res.json()).then(res=>x.setState({friendlist:res.following}));\n            }\n            b(this);\n\n        }\n\n        search(event){\n            event.preventDefault();\n\n            let temp = [];\n            this.state.articles.forEach(function(e){\n                if (e.author.includes(event.target.value) || e.text.includes(event.target.value)){\n                    temp.unshift(e);\n                }\n            })\n            if(event.target.value==''){temp=[];}\n            this.setState({searchcontent:temp});\n\n        }\n\n\n        render()\n        {\n            if (this.state.toProfile) {\n                return (\n\n                    <Redirect to='/Profile'/>\n\n                )\n            }\n\n            if (this.state.toLanding) {\n                return (\n                    <Redirect to='/'/>\n                )\n            }\n\n            return (\n                <div>\n\n                    <div className=\"jumbotron text-center\">\n                        <h1> Hello! {this.state.userId}!Welcome to your zone!</h1>\n                    </div>\n                    <div className='row'>\n                        <div className=\"col-lg-4 col-md-4 col-sm-4 col-xs-4\">\n                            <div className='card'>\n\n                                <div className='row'>\n                                    <div className='col-md-6'>\n                                        <button className=\"btn btn-primary\" type='submit'\n                                                onClick={this.handleLogout}>Logout\n                                        </button>\n                                    </div>\n                                    <div className='col-md-offset-4 col-md-6'>\n                                        <button className=\"btn btn-primary\" type='submit'\n                                                onClick={this.handleProfile}>Profile\n                                        </button>\n                                    </div>\n                                </div>\n\n                                <div className='row'>\n                                    <div className='col-md-12'>\n                                        <Avatar round src={this.avatar}/>\n                                        <p className=\"font-weight-lighter\">{this.state.userId}</p>\n                                    </div>\n                                </div>\n\n                                <div className='row'>\n                                    <div className='col-md-12'>\n                                        <p data-testid=\"custom-element\" className=\"font-weight-bold\">Status: {this.state.headline}</p>\n                                    </div>\n                                </div>\n\n                                <div className='row'>\n                                    <div className='col-md-12'>\n                                        <input type='text' id='headlinetext'/>\n                                        <br/>\n                                        <button type='submit' onClick={this.handleHeadline}>Change</button>\n\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n                        <div className=\"col-lg-8 col-md-8 col-sm-8 col-xs-8\">\n                            <div className='card'>\n                                <div className='row'>\n                                    <div className='col-md-12'>\n                                        {/*<textarea className=\"form-control\" rows=\"1\" id='posttitle'*/}\n                                        {/*          placeholder='Post title'></textarea>*/}\n                                    <textarea className=\"form-control\" rows=\"5\" id='newpost'\n                                              placeholder='Post your day!'></textarea>\n                                    </div>\n                                </div>\n                                <div className='row'>\n                                    <div className='col-md-12'>\n                                        <button className=\"btn btn-primary center\" type='submit' onClick={this.handlePost}>Post</button>\n                                        <button className=\"btn btn-primary center\" type='submit'\n                                                onClick={this.handleClear}>Clear\n                                        </button>\n                                    </div>\n                                </div>\n\n                                <div className='row'>\n                                    <div className='col-md-12'>\n                                        <p>Upload your picture:<input type='file'/></p>\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n                    </div>\n                    <div className='row'>\n                        <div className='col-md-12'>\n\n                            <p>Search bar: <input type = 'text' onChange={this.search} placeholder='For now, can only search by userId'></input></p>\n                            <div className='card'>\n                                {this.state.searchcontent == []?'':this.state.searchcontent.map((x,i)=>\n                                    <div key={i} className='row col-md-12'>\n                                        <p>  The user is {x.author} and is post on {x.date}.The post content is \"{x.text}\"</p>\n\n                                    </div>)}\n                            </div>\n                        </div>\n\n                    </div>\n\n                    <div className='row'>\n                        <div className=\"col-lg-4 col-md-4 col-sm-4 col-xs-4\">\n                            <div className='card'>\n                                {!(this.errorMessage=== '')? <div className='col-md-12'><div className= 'row alert-danger'>{this.errorMessage}</div></div>:''}\n                                {this.state.friendlist.map((x,i)=>\n                                    <div key={i} className='row'>\n                                        <div className='col-md-12'>\n                                            <Avatar round src={smallimg}/>\n                                            <p className=\"font-weight-lighter\">user {x}</p>\n                                            <p className=\"font-weight-bold\">Status: {localStorage.getItem(x)===null?'I am user '+x:localStorage.getItem(x)}</p>\n                                            <button type='submit' className = 'btn btn-danger' id = {x} onClick={this.handleunfriends}>Unfollow</button>\n                                            <br></br>\n                                            <br></br>\n                                        </div>\n                                    </div>)}\n\n\n                                    <br></br>\n                                    <div className = 'row'>\n                                        <div className='col-md-12'>\n                                            <input type='text' id='newfriend' placeholder = 'add a new friend'/>\n                                        </div>\n                                        <div className='col-md-12'>\n                                            <button type='submit' className = 'btn btn-primary' onClick={this.handlefriends}>Follow</button>\n                                        </div>\n                                    </div>\n                            </div>\n                        </div>\n\n                        <div className=\"col-lg-8 col-md-8 col-sm-8 col-xs-8\">\n                            <div className='card'>\n                                <ul className=\"list-group list-group-flush\">\n                                {this.state.articles.map((x,i)=>\n                                    <li key={i} className=\"list-group-item\">\n                                        <div className='col-md-12'>\n                                            <p className=\"font-weight-bold\"></p>\n                                            <img src={x.img}/>\n                                            <p className=\"font-italic\">{x.text}</p>\n                                            <p className=\"font-weight-bold\">Published by: User {x.author} on {x.date} </p>\n                                            <button type='submit' className = 'btn btn-secondary'>Edit</button>\n                                            <button type='submit' className = 'btn btn-warning' id = {x.id} onClick={this.handlecomments}>Comment</button>\n                                            {this.state.userscomment[x.id]?\n                                                <div className='card'>\n                                                    {x.comment.map((y,j)=>\n                                                        <div key = {j} className=\"list-group-item\">\n                                                            <p className=\"font-italic\">{y.text} </p>\n                                                            <p className=\"font-weight-bold\">Published by: {y.author} on {y.date}</p>\n                                                        </div>\n                                                    )}\n                                                </div>\n                                                    :''}\n                                            <br></br>\n                                            <br></br>\n                                        </div>\n                                    </li>)}\n                                    </ul>\n\n                            </div>\n                        </div>\n                    </div>\n\n\n                </div>\n\n            )\n\n        }\n\n    }\n\n\nconst mapStateToProps = (state) => {\n\n    return {\n        userId:state.userId,\n        headline:state.headline,\n        baseinfo:state.baseinfo,\n        data:state.data,\n        friendlist: state.friendlist,\n        articles:state.articles,\n        usergroup:state.usergroup,\n        comments:state.comments,\n\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n\n        userlogout: () =>dispatch(userlogout()),\n        updateheadline:(headline)=>dispatch(updateheadline(headline)),\n        gotoprofile: (input)=>dispatch(gotoprofile(input))\n\n    }\n};\n\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Main)"]},"metadata":{},"sourceType":"module"}