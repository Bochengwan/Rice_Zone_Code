{"ast":null,"code":"var _jsxFileName = \"/Users/alexwan/Documents/GitHub/hw5-BochengWan123/hw5/src/Component/Landing/Registration.js\";\nimport React from \"react\";\nimport { connect } from 'react-redux';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Redirect } from \"react-router-dom\";\nimport { register } from \"../../actions\";\n\nclass Registration extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.validateDateOfBirth = this.validateDateOfBirth.bind(this);\n    this.errorMessage = '';\n    this.state = {\n      redirect: false,\n      userId: \"\",\n      baseinfo: {\n        zipcode: '',\n        phonenumber: '',\n        email: ''\n      },\n      usergroup: this.props.usergroup\n    };\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.errorMessage = '';\n    this.user = document.getElementById(\"name_field\").value;\n    let temp = this.state.usergroup;\n    let found = temp.find(element => element[0] == this.user);\n    console.log(this.user); //let zc = document.getElementById(\"zipcode\").value;\n    //let pn = document.getElementById(\"phonenumber\").value;\n    //let em = document.getElementById(\"email\").value;\n    //this.setState({userId:this.user});\n    //this.setState({baseinfo:{zipcode:zc,phonenumber:pn,email:em}});\n\n    this.props.register(this.state.userId, this.state.baseinfo);\n\n    if (document.getElementById(\"password1\").value === document.getElementById(\"password2\").value) {\n      if (!this.validateDateOfBirth(document.getElementById(\"dob\"))) {\n        //if(this.errorMessage === ''){\n        //  this.setState({redirect:true});\n        //}\n        if (found != undefined) {\n          this.errorMessage = 'Cannot register using a existing account name';\n        }\n      } else {\n        this.errorMessage += 'You need to be 18 years old or older!';\n      }\n    } else {\n      this.errorMessage += 'The passwords are not the same!';\n    }\n  }\n\n  validateDateOfBirth(dob) {\n    let inputdate = new Date(dob.value);\n    let cdate = new Date();\n    let dyear = cdate.getFullYear() - inputdate.getFullYear();\n    let dmonth = cdate.getMonth() - inputdate.getMonth();\n    let dday = cdate.getDate() - inputdate.getDate();\n\n    if (dyear > 18) {\n      return false;\n    } else if (dmonth > 0 && dyear === 18) {\n      return false;\n    } else if (dday >= 0 && dmonth === 0 && dyear === 18) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/Main\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, !(this.errorMessage === '') ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row alert-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 58\n      }\n    }, this.errorMessage) : '', /*#__PURE__*/React.createElement(\"form\", {\n      method: \"GET\",\n      action: \"index.html\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left\",\n      htmlFor: \"display_name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 37\n      }\n    }, \"Display Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      id: \"display_name\",\n      placeholder: \"optional\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left\",\n      htmlFor: \"name_field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 37\n      }\n    }, \"Account Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      id: \"name_field\",\n      required: true,\n      placeholder: \"Enter your account name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left\",\n      htmlFor: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 41\n      }\n    }, \"Email address:\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"email\",\n      id: \"email\",\n      placeholder: \"abc@abc.abc\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left\",\n      htmlFor: \"phonenumber\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 41\n      }\n    }, \"Phone number:\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"tel\",\n      id: \"phonenumber\",\n      pattern: \"[0-9]{3}-[0-9]{3}-[0-9]{4}\",\n      required: true,\n      placeholder: \"xxx-xxx-xxxx\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left\",\n      htmlFor: \"dob\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 41\n      }\n    }, \"Date of birth:\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"date\",\n      id: \"dob\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left\",\n      htmlFor: \"zipcode\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 41\n      }\n    }, \"Zipcode:\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      id: \"zipcode\",\n      pattern: \"[0-9]{5}\",\n      requiredplaceholder: \"xxxxx\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left\",\n      htmlFor: \"password1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 41\n      }\n    }, \"Password:\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"password\",\n      id: \"password1\",\n      placeholder: \"Enter your password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left\",\n      htmlFor: \"password2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 41\n      }\n    }, \"Confirm Password:\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"password\",\n      id: \"password2\",\n      required: true,\n      placeholder: \"Please confirm password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 41\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 41\n      }\n    }, \"Register\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"reset\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 41\n      }\n    }, \"Clear\")))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    usergroup: state.usergroup\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    register: (userId, baseinfo) => dispatch(register(userId, baseinfo))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Registration);","map":{"version":3,"sources":["/Users/alexwan/Documents/GitHub/hw5-BochengWan123/hw5/src/Component/Landing/Registration.js"],"names":["React","connect","Redirect","register","Registration","Component","constructor","props","handleSubmit","bind","validateDateOfBirth","errorMessage","state","redirect","userId","baseinfo","zipcode","phonenumber","email","usergroup","e","preventDefault","user","document","getElementById","value","temp","found","find","element","console","log","undefined","dob","inputdate","Date","cdate","dyear","getFullYear","dmonth","getMonth","dday","getDate","render","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { connect } from 'react-redux';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Redirect } from \"react-router-dom\";\nimport {register} from \"../../actions\";\n\n\nclass Registration extends React.Component{\n    constructor(props) {\n        super(props);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.validateDateOfBirth = this.validateDateOfBirth.bind(this)\n        this.errorMessage = '';\n        this.state = {\n            redirect:false,\n            userId:\"\",\n            baseinfo:{zipcode:'',phonenumber:'',email:''},\n            usergroup:this.props.usergroup\n        }\n\n    }\n\n     handleSubmit(e){\n        e.preventDefault();\n        this.errorMessage = '';\n        this.user = document.getElementById(\"name_field\").value;\n        let temp = this.state.usergroup\n        let found = temp.find(element=>element[0]==this.user)\n         console.log(this.user)\n        //let zc = document.getElementById(\"zipcode\").value;\n        //let pn = document.getElementById(\"phonenumber\").value;\n        //let em = document.getElementById(\"email\").value;\n        //this.setState({userId:this.user});\n        //this.setState({baseinfo:{zipcode:zc,phonenumber:pn,email:em}});\n        this.props.register(this.state.userId,this.state.baseinfo);\n\n         if(document.getElementById(\"password1\").value === document.getElementById(\"password2\").value){\n             if(!this.validateDateOfBirth(document.getElementById(\"dob\"))){\n                 //if(this.errorMessage === ''){\n                   //  this.setState({redirect:true});\n                 //}\n                 if(found != undefined){\n                     this.errorMessage = 'Cannot register using a existing account name'\n                 }\n             } else {\n                 this.errorMessage += 'You need to be 18 years old or older!'\n             }\n         } else {\n             this.errorMessage += 'The passwords are not the same!'\n         }\n    }\n\n    validateDateOfBirth(dob){\n        let inputdate = new Date(dob.value);\n        let cdate = new Date();\n        let dyear = cdate.getFullYear()-inputdate.getFullYear();\n        let dmonth = cdate.getMonth()-inputdate.getMonth();\n        let dday = cdate.getDate()-inputdate.getDate();\n\n        if (dyear>18){\n            return false;\n        } else if (dmonth>0 && dyear === 18){\n            return false;\n        } else if (dday>=0 && dmonth === 0 && dyear === 18) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n\n\n    render(){\n        if(this.state.redirect){\n            return(\n            <Redirect to='/Main' />)\n        }\n        return(\n\n                <div className = \"col-lg-6 col-md-6 col-sm-6 col-xs-6\">\n                    <div className='card'>\n                        <div className='card-header text-left'>Register</div>\n                        <div className='card-body'>\n                            {!(this.errorMessage=== '')? <div className= 'row alert-danger'>{this.errorMessage}</div>:''}\n                            <form method=\"GET\" action=\"index.html\" onSubmit={this.handleSubmit} >\n                                <div className = 'form-row'>\n                                <div className='form-group col-md-6'>\n                                    <label className= 'text-left' htmlFor='display_name'>Display Name:</label>\n                                    <input className='form-control' type=\"text\" id = \"display_name\" placeholder = 'optional' />\n                                </div>\n                                <div className='form-group col-md-6'>\n                                    <label className= 'text-left' htmlFor = 'name_field'>Account Name:</label>\n                                    <input className='form-control' type=\"text\" id = \"name_field\" required placeholder='Enter your account name'/>\n                                </div>\n                                </div>\n\n                                <div className='form-row'>\n                                    <div className='form-group col-md-6'>\n                                        <label className='text-left' htmlFor='email'>Email address:</label>\n                                        <input className='form-control' type=\"email\" id=\"email\" placeholder= 'abc@abc.abc'required/>\n                                    </div>\n                                    <div className='form-group col-md-6'>\n                                        <label className='text-left' htmlFor='phonenumber'>Phone number:</label>\n                                        <input className='form-control' type=\"tel\" id=\"phonenumber\" pattern=\"[0-9]{3}-[0-9]{3}-[0-9]{4}\" required placeholder= 'xxx-xxx-xxxx'/>\n                                    </div>\n                                </div>\n\n                                <div className='form-row'>\n                                    <div className='form-group col-md-6'>\n                                        <label className='text-left' htmlFor='dob'>Date of birth:</label>\n                                        <input className='form-control' type=\"date\" id=\"dob\"/>\n                                    </div>\n                                    <div className='form-group col-md-6'>\n                                        <label className='text-left' htmlFor='zipcode'>Zipcode:</label>\n                                        <input className='form-control' type=\"text\" id=\"zipcode\" pattern=\"[0-9]{5}\" requiredplaceholder= 'xxxxx'/>\n                                    </div>\n                                </div>\n\n                                <div className='form-row'>\n                                    <div className='form-group col-md-6'>\n                                        <label className='text-left' htmlFor='password1'>Password:</label>\n                                        <input className='form-control' type=\"password\" id=\"password1\" placeholder= 'Enter your password'/>\n                                    </div>\n                                    <div className='form-group col-md-6'>\n                                        <label className='text-left' htmlFor='password2'>Confirm Password:</label>\n                                        <input className='form-control' type=\"password\" id=\"password2\" required placeholder= 'Please confirm password'/>\n                                    </div>\n                                </div>\n\n                                <div className= 'form-row center'>\n                                    <div className='form-group col-md-6'>\n                                        <button className=\"btn btn-primary\" type = 'submit'>Register</button>\n                                    </div>\n                                    <div className='form-group col-md-6'>\n                                        <button className=\"btn btn-primary\" type = 'reset'>Clear</button>\n                                    </div>\n                                </div>\n\n\n\n                            </form>\n                        </div>\n                    </div>\n\n                    </div>\n\n\n\n        )\n    }\n\n}\n\nconst mapStateToProps = (state) => {\n\n    return {\n        usergroup:state.usergroup\n    }\n};\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        register: (userId,baseinfo) => dispatch(register(userId,baseinfo))\n    }\n};\n\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Registration)"]},"metadata":{},"sourceType":"module"}