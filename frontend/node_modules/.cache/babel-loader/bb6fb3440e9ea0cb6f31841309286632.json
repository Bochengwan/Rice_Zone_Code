{"ast":null,"code":"var _jsxFileName = \"/Users/alexwan/Documents/GitHub/final-frontend-BochengWan123/frontend/src/Component/Landing/Login.js\";\nimport React from \"react\";\nimport { connect } from 'react-redux';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { userlogin } from \"../../actions\";\nimport { Redirect } from \"react-router-dom\";\nconst baseurl = new URL(\"http://localhost:4200/login\");\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.errorMessage = '';\n    this.state = {\n      redirect: false,\n      userId: \"\",\n      usergroup: this.props.usergroup\n    };\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.errorMessage = '';\n    this.user = document.getElementById(\"Lname_field\").value;\n    this.pw = document.getElementById(\"Lpassword\").value;\n    let temp = this.props.usergroup;\n    let input = {\n      \"username\": this.user,\n      \"password\": Number(this.pw)\n    };\n    console.log(input);\n    let option = {\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify(input),\n      method: \"POST\",\n      credentials: \"include\"\n    };\n\n    async function a(x) {\n      await fetch(baseurl, option).then(res => res.json()).then(res => console.log(res, typeof res));\n    }\n\n    a(this); // let found = temp.find(element=>(element[0]===this.user && element[1]===this.pw))\n    // let found1 = temp.find(element=>(element[0]===this.user))\n    //\n    // if(this.user!=='' && this.pw!==''){\n    //     if(found1 === undefined){\n    //         this.errorMessage = 'Not an existing user!';\n    //     } else if(found === undefined){\n    //         this.errorMessage = 'Password is not correct!';\n    //     } else {\n    //         this.props.userlogin(this.user, this.pw);\n    //         this.setState({redirect: true});\n    //     }\n    // } else {\n    //     this.errorMessage = 'Account name or password cannot be blank!';\n    // }\n    // this.setState({errorMessage:this.errorMessage})\n\n    return this.errorMessage;\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/Main\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-6 col-sm-6 col-xs-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, !(this.errorMessage === '') ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row alert-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 54\n      }\n    }, this.errorMessage) : '', /*#__PURE__*/React.createElement(\"form\", {\n      method: \"GET\",\n      action: \"index.html\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left\",\n      htmlFor: \"Lname_field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 33\n      }\n    }, \"Account Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"Lname_field\",\n      placeholder: \"Enter account name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-left\",\n      htmlFor: \"Lpassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 33\n      }\n    }, \"Password:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      id: \"Lpassword\",\n      placeholder: \"Enter password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 37\n      }\n    }, \"Login\")))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    usergroup: state.usergroup\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    userlogin: (userId, password) => dispatch(userlogin(userId, password))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/Users/alexwan/Documents/GitHub/final-frontend-BochengWan123/frontend/src/Component/Landing/Login.js"],"names":["React","connect","userlogin","Redirect","baseurl","URL","Login","Component","constructor","props","handleSubmit","bind","errorMessage","state","redirect","userId","usergroup","e","preventDefault","user","document","getElementById","value","pw","temp","input","Number","console","log","option","headers","body","JSON","stringify","method","credentials","a","x","fetch","then","res","json","render","mapStateToProps","mapDispatchToProps","dispatch","password"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,sCAAP;AACA,SAAQC,SAAR,QAAwB,eAAxB;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,MAAMC,OAAO,GAAG,IAAIC,GAAJ,CAAQ,6BAAR,CAAhB;;AAEA,MAAMC,KAAN,SAAoBN,KAAK,CAACO,SAA1B,CAAmC;AAC/BC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,YAAL,GAAoB,EAApB;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAC,KADA;AAETC,MAAAA,MAAM,EAAC,EAFE;AAGTC,MAAAA,SAAS,EAAC,KAAKP,KAAL,CAAWO;AAHZ,KAAb;AAKH;;AACDN,EAAAA,YAAY,CAACO,CAAD,EAAG;AACXA,IAAAA,CAAC,CAACC,cAAF;AAEA,SAAKN,YAAL,GAAoB,EAApB;AACA,SAAKO,IAAL,GAAYC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KAAnD;AACA,SAAKC,EAAL,GAAUH,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCC,KAA/C;AACA,QAAIE,IAAI,GAAG,KAAKf,KAAL,CAAWO,SAAtB;AACA,QAAIS,KAAK,GAAG;AAAC,kBAAW,KAAKN,IAAjB;AAAsB,kBAAWO,MAAM,CAAC,KAAKH,EAAN;AAAvC,KAAZ;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACA,QAAII,MAAM,GAAG;AACTC,MAAAA,OAAO,EAAC;AAAC,wBAAe;AAAhB,OADC;AAETC,MAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAeR,KAAf,CAFI;AAGTS,MAAAA,MAAM,EAAC,MAHE;AAITC,MAAAA,WAAW,EAAC;AAJH,KAAb;;AAOA,mBAAeC,CAAf,CAAiBC,CAAjB,EAAoB;AAChB,YAAMC,KAAK,CAAClC,OAAD,EAAUyB,MAAV,CAAL,CAAuBU,IAAvB,CAA4BC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAAnC,EAA+CF,IAA/C,CAAoDC,GAAG,IAAIb,OAAO,CAACC,GAAR,CAAYY,GAAZ,EAAiB,OAAQA,GAAzB,CAA3D,CAAN;AACH;;AACDJ,IAAAA,CAAC,CAAC,IAAD,CAAD,CAnBW,CAqBX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,WAAO,KAAKxB,YAAZ;AAEH;;AACD8B,EAAAA,MAAM,GAAE;AACJ,QAAG,KAAK7B,KAAL,CAAWC,QAAd,EAAuB;AACnB,0BACI,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAEH;;AACD,wBACI;AAAK,MAAA,SAAS,EAAG,qCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eAEI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,EAAE,KAAKF,YAAL,KAAqB,EAAvB,iBAA4B;AAAK,MAAA,SAAS,EAAE,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoC,KAAKA,YAAzC,CAA5B,GAAyF,EAD9F,eAEI;AAAM,MAAA,MAAM,EAAC,KAAb;AAAmB,MAAA,MAAM,EAAC,YAA1B;AAAuC,MAAA,QAAQ,EAAI,KAAKF,YAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,SAAS,EAAC,WAAjB;AAA6B,MAAA,OAAO,EAAC,aAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,eAEI;AAAQ,MAAA,IAAI,EAAC,MAAb;AAAoB,MAAA,EAAE,EAAC,aAAvB;AAAqC,MAAA,WAAW,EAAE,oBAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,eAKI;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,SAAS,EAAC,WAAjB;AAA6B,MAAA,OAAO,EAAC,WAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,eAEI;AAAQ,MAAA,IAAI,EAAC,UAAb;AAAwB,MAAA,EAAE,EAAC,WAA3B;AAAuC,MAAA,WAAW,EAAE,gBAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CALJ,CADA,eAYI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,SAAS,EAAC,iBAAlB;AAAoC,MAAA,IAAI,EAAG,QAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,CAFJ,CAZJ,CAFJ,CAFJ,CAFJ,CADJ;AAiCH;;AAzF8B;;AA4FnC,MAAMiC,eAAe,GAAI9B,KAAD,IAAW;AAE/B,SAAO;AACHG,IAAAA,SAAS,EAACH,KAAK,CAACG;AADb,GAAP;AAGH,CALD;;AAOA,MAAM4B,kBAAkB,GAAIC,QAAD,IAAc;AACrC,SAAO;AACH3C,IAAAA,SAAS,EAAE,CAACa,MAAD,EAAQ+B,QAAR,KAAqBD,QAAQ,CAAC3C,SAAS,CAACa,MAAD,EAAQ+B,QAAR,CAAV;AADrC,GAAP;AAGH,CAJD;;AAOA,eAAe7C,OAAO,CAAC0C,eAAD,EAAiBC,kBAAjB,CAAP,CAA4CtC,KAA5C,CAAf","sourcesContent":["import React from \"react\";\nimport { connect } from 'react-redux';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {userlogin} from \"../../actions\";\nimport {Redirect} from \"react-router-dom\";\nconst baseurl = new URL(\"http://localhost:4200/login\");\n\nclass Login extends React.Component{\n    constructor(props) {\n        super(props);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.errorMessage = '';\n        this.state = {\n            redirect:false,\n            userId:\"\",\n            usergroup:this.props.usergroup\n        }\n    }\n    handleSubmit(e){\n        e.preventDefault();\n\n        this.errorMessage = '';\n        this.user = document.getElementById(\"Lname_field\").value;\n        this.pw = document.getElementById(\"Lpassword\").value\n        let temp = this.props.usergroup\n        let input = {\"username\":this.user,\"password\":Number(this.pw)};\n        console.log(input)\n        let option = {\n            headers:{\"content-type\":\"application/json\"},\n            body:JSON.stringify(input),\n            method:\"POST\",\n            credentials:\"include\",\n\n        };\n        async function a(x) {\n            await fetch(baseurl, option).then(res => res.json()).then(res => console.log(res, typeof (res)))\n        }\n        a(this)\n\n        // let found = temp.find(element=>(element[0]===this.user && element[1]===this.pw))\n        // let found1 = temp.find(element=>(element[0]===this.user))\n        //\n        // if(this.user!=='' && this.pw!==''){\n        //     if(found1 === undefined){\n        //         this.errorMessage = 'Not an existing user!';\n        //     } else if(found === undefined){\n        //         this.errorMessage = 'Password is not correct!';\n        //     } else {\n        //         this.props.userlogin(this.user, this.pw);\n        //         this.setState({redirect: true});\n        //     }\n        // } else {\n        //     this.errorMessage = 'Account name or password cannot be blank!';\n        // }\n        // this.setState({errorMessage:this.errorMessage})\n        return this.errorMessage\n\n    }\n    render(){\n        if(this.state.redirect){\n            return(\n                <Redirect to='/Main' />)\n        }\n        return(\n            <div className = \"col-lg-6 col-md-6 col-sm-6 col-xs-6\">\n\n                <div className='card' >\n                    <div className='card-header text-left'>Login</div>\n                    <div className='card-body'>\n                        {!(this.errorMessage=== '')? <div className= 'row alert-danger'>{this.errorMessage}</div>:''}\n                        <form method=\"GET\" action=\"index.html\" onSubmit = {this.handleSubmit}>\n                        <div className='form-row'>\n                            <div className='form-group col-md-6'>\n                                <label className='text-left' htmlFor='Lname_field'>Account Name:</label>\n                                <input  type=\"text\" id=\"Lname_field\" placeholder= 'Enter account name'/>\n                            </div>\n                            <div className='form-group col-md-6'>\n                                <label className='text-left' htmlFor='Lpassword'>Password:</label>\n                                <input  type=\"password\" id=\"Lpassword\" placeholder= 'Enter password'/>\n                            </div>\n                        </div>\n\n                            <div className='form-row center'>\n\n                                <div className='form-group col-md-12'>\n                                    <button className=\"btn btn-primary\" type = 'submit'>Login</button>\n                                </div>\n                            </div>\n\n                        </form>\n                    </div>\n                </div>\n\n            </div>\n\n        )\n    }\n\n}\nconst mapStateToProps = (state) => {\n\n    return {\n        usergroup:state.usergroup\n    }\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        userlogin: (userId,password) => dispatch(userlogin(userId,password))\n    }\n};\n\n\nexport default connect(mapStateToProps,mapDispatchToProps)(Login)\n"]},"metadata":{},"sourceType":"module"}